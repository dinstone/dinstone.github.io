---
layout: post
title:  "古董机升级服务器"
categories: Ubuntu
tags:  x201 ubuntu
author: dinstone
---

* content
{:toc}

# 升级背景

家里有一台闲置多年的古董笔记本电脑X201i，2C2G，安装的是win7系统，开机贼啦慢。卖废品就给30块钱，想着不如变废为宝，升级一下做服务器用。

## 升级前

* CPU 2  Intel(R) Celeron(R)        U3400  @ 1.07GHz
* 2条 1G DDR3 1333 内存
* 128G 7200转 移动硬盘
* Windows 7系统
* 启动5分钟左右，关机2分钟，使用卡的要死，几乎不可用

## 升级后

* CPU 2  Intel(R) Celeron(R)        U3400  @ 1.07GHz
* 2条 4G DDR3 1333 兼容内存
* 64G 固态硬盘
* Ubuntu 22.04桌面系统
* 启动1分钟不到，关机10秒不用，使用稍有卡顿，基本流程可用，做服务器还是蛮快的。

# 升级过程

我们的目标是百元内做成高性能Linux服务。所以升级前先看看硬件对系统的支持情况，然后再做硬件升级，不盲目花钱才是硬道理（主要是穷）啊。

## 系统检测

1. 首先去Ubuntu官网下载了最新的桌面操作系统：ubuntu-22.04.2-desktop-amd64.iso。地址：https://ubuntu.com/download/desktop 。

2. 使用Rufus制作Ubuntu的USB启动盘。Rufus很小，无需安装，随下随用，引导类型选择刚下载的ubuntu server ISO文件，其余默认即可，然后开始制作中，大约十分钟即可完成。也可以参考：https://zhuanlan.zhihu.com/p/498100251 。

3. 有了USB的安装盘，安装过程就很简单了，一路可以默认，选择“done”就行。具体安装过程也可参考: https://blog.csdn.net/weixin_43824829/article/details/126975368 。

4. 系统安装后，使用了一下，开机是比win7快了，但是使用起来还是很慢，除了CPU拉胯外（开机后一直20%的负载），主要原因有2个：一个是内存太少了，可用内存剩余就剩30MB了。一个是移动硬盘频繁读写，速度很慢。

## 硬件升级

1. 升级内存：在淘宝上搜“DDR3笔记本内存条1333”，找最便宜的买，花了44块人民币搞了2条4GB的杂牌内存。安装测试，可以点亮电脑，一切安好。

![x201-mem]({{site.url}}/img/x201/mems.jpeg)
  
2. 升级硬盘：在淘宝上搜“笔记本固态硬盘”，找最便宜的买，花了25块人民币搞了一块64GB的固态硬盘。换掉之前的移动硬盘，重装系统，启动飞起来。

3. 升级CPU：当然不会搞了。虽然电脑启动、运行快了很多，但是CPU负责一直很高，而换CPU太过麻烦，风险也高，所以放弃升级。

# 升级总结

升级过程还是蛮刺激和充满期待的，不仅要熟悉计算机组成原理，还要做硬件安装和系统调试，因此也就增强了知识判断和动手能力。

升级的结果还是蛮不错的，一个是效果是非常的好，远超预期；另外一个是成本（69元）控制的很好，符合预算目标。

升级遗留一个CPU高负载的问题没有解决，由于不妨碍当前的使用需求，暂搁一边，持续观察再做研究处理吧。
